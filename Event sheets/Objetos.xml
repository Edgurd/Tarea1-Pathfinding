<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Objetos</name>
    <events>
        <event-group description="" sid="439089050554676" title="Caja">
            <sub-events>
                <event-block sid="344855800889873">
                    <conditions>
                        <condition id="-18" name="On created" sid="472400065676783" type="Box" />
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="700899312738875" type="Box">
                            <param id="0" name="Object">BoxUp</param>
                            <param id="1" name="Layer">0</param>
                            <param id="2" name="Image point">1</param>
                        </action>
                        <action behavior="Pin" id="0" name="Pin to object" sid="777169337939341" type="BoxUp">
                            <param id="0" name="Pin to">Box</param>
                            <param id="1" name="Mode">1</param>
                        </action>
                        <action id="0" name="Spawn another object" sid="920713664056538" type="Box">
                            <param id="0" name="Object">BoxRight</param>
                            <param id="1" name="Layer">0</param>
                            <param id="2" name="Image point">2</param>
                        </action>
                        <action behavior="Pin" id="0" name="Pin to object" sid="789902711687032" type="BoxRight">
                            <param id="0" name="Pin to">Box</param>
                            <param id="1" name="Mode">0</param>
                        </action>
                        <action id="0" name="Spawn another object" sid="976127685119360" type="Box">
                            <param id="0" name="Object">BoxLeft</param>
                            <param id="1" name="Layer">0</param>
                            <param id="2" name="Image point">3</param>
                        </action>
                        <action behavior="Pin" id="0" name="Pin to object" sid="815010779972082" type="BoxLeft">
                            <param id="0" name="Pin to">Box</param>
                            <param id="1" name="Mode">1</param>
                        </action>
                        <action id="0" name="Spawn another object" sid="740688523981915" type="Box">
                            <param id="0" name="Object">BoxDown</param>
                            <param id="1" name="Layer">0</param>
                            <param id="2" name="Image point">4</param>
                        </action>
                        <action behavior="Pin" id="0" name="Pin to object" sid="114830022629075" type="BoxDown">
                            <param id="0" name="Pin to">Box</param>
                            <param id="1" name="Mode">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="279293513947751">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="491296492397212" type="Players">
                            <param id="0" name="Object">BoxLeft</param>
                        </condition>
                        <condition id="1" name="Is overlapping another object" sid="940746873190835" type="BoxLeft">
                            <param id="0" name="Object">Box</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="499464735385427" type="Box">
                            <param id="0" name="Control">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="269541294671877">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="669882348907549" type="Players">
                            <param id="0" name="Object">BoxRight</param>
                        </condition>
                        <condition id="1" name="Is overlapping another object" sid="976627660668544" type="BoxRight">
                            <param id="0" name="Object">Box</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="501257177324484" type="Box">
                            <param id="0" name="Control">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="546768980074331">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="291717517322801" type="Players">
                            <param id="0" name="Object">BoxUp</param>
                        </condition>
                        <condition id="1" name="Is overlapping another object" sid="211601132979319" type="BoxUp">
                            <param id="0" name="Object">Box</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="436025679853866" type="Box">
                            <param id="0" name="Control">3</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="914194252663935">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="243482422236577" type="Players">
                            <param id="0" name="Object">BoxDown</param>
                        </condition>
                        <condition id="1" name="Is overlapping another object" sid="944433063240019" type="BoxDown">
                            <param id="0" name="Object">Box</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="108431653147969" type="Box">
                            <param id="0" name="Control">2</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="518631844867073" title="Boton/Puerta">
            <sub-events>
                <event-block sid="128398985989722">
                    <conditions>
                        <condition id="-8" name="Is boolean instance variable set" sid="839989763244475" type="Button">
                            <param id="0" name="Instance variable">Activa</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="978614212303395" type="Button">
                            <param id="0" name="Animation">&quot;On&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="416492939903773">
                            <conditions>
                                <condition id="-4" name="Trigger once while true" sid="155880868229470" type="System" />
                            </conditions>
                            <actions>
                                <action id="0" name="Play" sid="209412796967256" type="Audio">
                                    <param id="0" name="Audio file">DoorOpen</param>
                                    <param id="2" name="Loop">0</param>
                                    <param id="3" name="Volume">0</param>
                                    <param id="1" name="Tag (optional)">&quot;sfx&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="111500163388842">
                            <conditions>
                                <condition id="-10" name="For" sid="166093800977117" type="System">
                                    <param id="0" name="Name">&quot;LoopBuscador&quot;</param>
                                    <param id="1" name="Start index">1</param>
                                    <param id="2" name="End index">int(tokenat(Button.LinkedDoors,0,SEPARATOR))</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="369953701336607">
                                    <conditions>
                                        <condition id="-14" name="Pick by unique ID" sid="694844404864046" type="Puerta">
                                            <param id="0" name="Unique ID">int(tokenat(Button.LinkedDoors,loopindex(&quot;LoopBuscador&quot;),SEPARATOR))</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <comment>Abre la puerta</comment>
                                        <event-block sid="713443274402536">
                                            <conditions>
                                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="494526220893456" type="Puerta">
                                                    <param id="0" name="Instance variable">Abierta</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-15" name="Set visible" sid="930168983684855" type="Puerta">
                                                    <param id="0" name="Visibility">0</param>
                                                </action>
                                                <action behavior="Solid" id="0" name="Set enabled" sid="231360802293433" type="Puerta">
                                                    <param id="0" name="State">0</param>
                                                </action>
                                                <action id="-13" name="Set boolean" sid="484950553332526" type="Puerta">
                                                    <param id="0" name="Instance variable">Abierta</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="740843977782385">
                    <conditions>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="808900629329204" type="Button">
                            <param id="0" name="Instance variable">Activa</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="185604668932538" type="Button">
                            <param id="0" name="Animation">&quot;Off&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="418813584275779">
                            <conditions>
                                <condition id="-4" name="Trigger once while true" sid="342307620326199" type="System" />
                            </conditions>
                            <actions>
                                <action id="0" name="Play" sid="918915105157556" type="Audio">
                                    <param id="0" name="Audio file">DoorClose</param>
                                    <param id="2" name="Loop">0</param>
                                    <param id="3" name="Volume">0</param>
                                    <param id="1" name="Tag (optional)">&quot;sfx&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="484508802721476">
                            <conditions>
                                <condition id="-10" name="For" sid="695434571033317" type="System">
                                    <param id="0" name="Name">&quot;LoopBuscador&quot;</param>
                                    <param id="1" name="Start index">1</param>
                                    <param id="2" name="End index">int(tokenat(Button.LinkedDoors,0,SEPARATOR))</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="166393520981320">
                                    <conditions>
                                        <condition id="-14" name="Pick by unique ID" sid="498306777718875" type="Puerta">
                                            <param id="0" name="Unique ID">int(tokenat(Button.LinkedDoors,loopindex(&quot;LoopBuscador&quot;),SEPARATOR))</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <comment>Cierra la puerta</comment>
                                        <event-block sid="443247348356880">
                                            <conditions>
                                                <condition id="-8" name="Is boolean instance variable set" sid="789189300531932" type="Puerta">
                                                    <param id="0" name="Instance variable">Abierta</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-15" name="Set visible" sid="922683378840544" type="Puerta">
                                                    <param id="0" name="Visibility">1</param>
                                                </action>
                                                <action behavior="Solid" id="0" name="Set enabled" sid="703066657216406" type="Puerta">
                                                    <param id="0" name="State">1</param>
                                                </action>
                                                <action id="-13" name="Set boolean" sid="342101798468417" type="Puerta">
                                                    <param id="0" name="Instance variable">Abierta</param>
                                                    <param id="1" name="Value">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block any="1" sid="686680875911720">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="682306530199258" type="Button">
                            <param id="0" name="Object">Bloqued</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-13" name="Set boolean" sid="925377163590734" type="Button">
                            <param id="0" name="Instance variable">Activa</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="602745191267676">
                    <conditions>
                        <condition id="-22" name="Else" sid="879975113123458" type="System" />
                    </conditions>
                    <actions>
                        <action id="-13" name="Set boolean" sid="803516549606998" type="Button">
                            <param id="0" name="Instance variable">Activa</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
