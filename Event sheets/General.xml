<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>General</name>
    <events>
        <variable constant="0" name="Variable1" sid="356123953551454" static="0" type="number">0</variable>
        <variable constant="1" name="SIZE" sid="983877313057910" static="0" type="number">16</variable>
        <variable constant="1" name="SEPARATOR" sid="486038743436352" static="0" type="text">|</variable>
        <variable constant="0" name="UIDSector0" sid="472348817090080" static="0" type="number">0</variable>
        <variable constant="0" name="UIDSector1" sid="986836185478147" static="0" type="number">0</variable>
        <event-group description="" sid="147629887889136" title="Personaje">
            <sub-events>
                <event-group description="" sid="711005794298823" title="Set Cuadrante">
                    <sub-events>
                        <event-block sid="216274991570823">
                            <conditions>
                                <condition id="-2" name="On start of layout" sid="634847610639629" type="System" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="252168313351446">
                                    <conditions>
                                        <condition id="-1" name="Compare X" sid="161844218374098" type="Player1">
                                            <param id="0" name="Comparison">2</param>
                                            <param id="1" name="X co-ordinate">LayoutWidth/2</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="916503520584794" type="System">
                                            <param id="0" name="Variable">UIDSector0</param>
                                            <param id="1" name="Value">Player1.UID</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="172065854054478" type="System">
                                            <param id="0" name="Variable">UIDSector1</param>
                                            <param id="1" name="Value">Player2.UID</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="683073776348851">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="382993972052596" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="227844901578880" type="System">
                                            <param id="0" name="Variable">UIDSector1</param>
                                            <param id="1" name="Value">Player1.UID</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="637815230564745" type="System">
                                            <param id="0" name="Variable">UIDSector0</param>
                                            <param id="1" name="Value">Player2.UID</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="727667567956840" title="Movimiento">
                    <sub-events>
                        <event-block sid="586830105054888">
                            <conditions>
                                <condition id="5" name="Compare axis" sid="346146653589780" type="Gamepad">
                                    <param id="0" name="Gamepad">0</param>
                                    <param id="1" name="Axis">0</param>
                                    <param id="2" name="Comparison">4</param>
                                    <param id="3" name="Value">50</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="8Direction" id="7" name="Simulate control" sid="270886129879377" type="Player2">
                                    <param id="0" name="Control">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="262537846331227">
                            <conditions>
                                <condition id="5" name="Compare axis" sid="721885910677585" type="Gamepad">
                                    <param id="0" name="Gamepad">0</param>
                                    <param id="1" name="Axis">0</param>
                                    <param id="2" name="Comparison">2</param>
                                    <param id="3" name="Value">-50</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="8Direction" id="7" name="Simulate control" sid="492402903215382" type="Player2">
                                    <param id="0" name="Control">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="978273191151681">
                            <conditions>
                                <condition id="5" name="Compare axis" sid="238888837553729" type="Gamepad">
                                    <param id="0" name="Gamepad">0</param>
                                    <param id="1" name="Axis">1</param>
                                    <param id="2" name="Comparison">4</param>
                                    <param id="3" name="Value">50</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="8Direction" id="7" name="Simulate control" sid="916898667411473" type="Player2">
                                    <param id="0" name="Control">3</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="852116023992563">
                            <conditions>
                                <condition id="5" name="Compare axis" sid="484446582830736" type="Gamepad">
                                    <param id="0" name="Gamepad">0</param>
                                    <param id="1" name="Axis">1</param>
                                    <param id="2" name="Comparison">2</param>
                                    <param id="3" name="Value">-50</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="8Direction" id="7" name="Simulate control" sid="991654875737178" type="Player2">
                                    <param id="0" name="Control">2</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="248783358915612" title="Funciones Personaje">
                    <sub-events>
                        <event-group description="" sid="822432419331052" title="MoverCaja">
                            <sub-events>
                                <event-block sid="397740256663404">
                                    <conditions>
                                        <condition id="1" name="Is overlapping another object" sid="773594711977009" type="Players">
                                            <param id="0" name="Object">BoxLeft</param>
                                        </condition>
                                        <condition id="1" name="Is overlapping another object" sid="395336279406820" type="BoxLeft">
                                            <param id="0" name="Object">Box</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="8Direction" id="7" name="Simulate control" sid="131624919019171" type="Box">
                                            <param id="0" name="Control">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="537634556402147">
                                    <conditions>
                                        <condition id="1" name="Is overlapping another object" sid="836115368344944" type="Players">
                                            <param id="0" name="Object">BoxRight</param>
                                        </condition>
                                        <condition id="1" name="Is overlapping another object" sid="504356064073689" type="BoxRight">
                                            <param id="0" name="Object">Box</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="8Direction" id="7" name="Simulate control" sid="972926376836052" type="Box">
                                            <param id="0" name="Control">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="725732991443826">
                                    <conditions>
                                        <condition id="1" name="Is overlapping another object" sid="456726577149292" type="Players">
                                            <param id="0" name="Object">BoxUp</param>
                                        </condition>
                                        <condition id="1" name="Is overlapping another object" sid="294602758574812" type="BoxUp">
                                            <param id="0" name="Object">Box</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="8Direction" id="7" name="Simulate control" sid="237884524224244" type="Box">
                                            <param id="0" name="Control">3</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="628813656950982">
                                    <conditions>
                                        <condition id="1" name="Is overlapping another object" sid="610442858250731" type="Players">
                                            <param id="0" name="Object">BoxDown</param>
                                        </condition>
                                        <condition id="1" name="Is overlapping another object" sid="316409367097627" type="BoxDown">
                                            <param id="0" name="Object">Box</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="8Direction" id="7" name="Simulate control" sid="937125139186490" type="Box">
                                            <param id="0" name="Control">2</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <variable constant="0" name="Auxiliar" sid="627853704206003" static="0" type="number">0</variable>
                        <event-block sid="673155960176362">
                            <conditions>
                                <condition id="0" name="On function" sid="604439450999228" type="Function">
                                    <param id="0" name="Name">&quot;IntercambiarPlayers&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="149165398635803" type="System">
                                    <param id="0" name="Variable">Auxiliar</param>
                                    <param id="1" name="Value">UIDSector0</param>
                                </action>
                                <action id="-9" name="Set value" sid="784661877386039" type="System">
                                    <param id="0" name="Variable">UIDSector0</param>
                                    <param id="1" name="Value">UIDSector1</param>
                                </action>
                                <action id="-9" name="Set value" sid="261381151886200" type="System">
                                    <param id="0" name="Variable">UIDSector1</param>
                                    <param id="1" name="Value">Auxiliar</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="645897899583540">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="566657484862160" type="Enemies">
                                            <param id="0" name="Instance variable">Sector</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="499591484485401" type="Enemies">
                                            <param id="0" name="Instance variable">Target</param>
                                            <param id="1" name="Value">UIDSector0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="209920132104186">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="186980068772997" type="Enemies">
                                            <param id="0" name="Instance variable">Sector</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="757089297980020" type="Enemies">
                                            <param id="0" name="Instance variable">Target</param>
                                            <param id="1" name="Value">UIDSector1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="622560098594838" title="Animaciones">
                    <sub-events>
                        <event-block sid="978785465258149">
                            <conditions>
                                <condition behavior="8Direction" id="0" name="Is moving" sid="506610629877681" type="Players" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="237576628779130">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="169212569148499" type="System">
                                            <param id="0" name="First value">abs( Players.8Direction.VectorX )</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Second value">abs( Players.8Direction.VectorY )</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="416542732952278">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="296431777226991" type="System">
                                                    <param id="0" name="First value">Players.8Direction.VectorX</param>
                                                    <param id="1" name="Comparison">4</param>
                                                    <param id="2" name="Second value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="4" name="Set animation" sid="238770817818463" type="Players">
                                                    <param id="0" name="Animation">&quot;East&quot;</param>
                                                    <param id="1" name="From">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="517891848471816">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="139321872649168" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="4" name="Set animation" sid="115482796918729" type="Players">
                                                    <param id="0" name="Animation">&quot;West&quot;</param>
                                                    <param id="1" name="From">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="149297753249519">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="645191245517181" type="System" />
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="875931950418401">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="172261235145845" type="System">
                                                    <param id="0" name="First value">Players.8Direction.VectorY</param>
                                                    <param id="1" name="Comparison">4</param>
                                                    <param id="2" name="Second value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="4" name="Set animation" sid="780672097099482" type="Players">
                                                    <param id="0" name="Animation">&quot;South&quot;</param>
                                                    <param id="1" name="From">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="264741764544744">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="169874726521818" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="4" name="Set animation" sid="666541602214999" type="Players">
                                                    <param id="0" name="Animation">&quot;North&quot;</param>
                                                    <param id="1" name="From">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="147246394226457">
                            <conditions>
                                <condition behavior="8Direction" id="0" inverted="1" name="Is moving" sid="225441244594621" type="Players" />
                            </conditions>
                            <actions>
                                <action id="2" name="Stop" sid="525646768589259" type="Players" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
        <event-group description="" sid="402251187691027" title="Enemigos">
            <sub-events>
                <event-group description="" sid="335340662961161" title="General Enemigos">
                    <sub-events>
                        <event-block sid="214837732593903">
                            <conditions>
                                <condition id="-2" name="On start of layout" sid="487953767425829" type="System" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="893802431089744">
                                    <conditions>
                                        <condition id="-11" name="For Each" sid="740752026187954" type="System">
                                            <param id="0" name="Object">Enemies</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="221317007270746">
                                            <conditions>
                                                <condition id="-1" name="Compare X" sid="538492789617056" type="Enemies">
                                                    <param id="0" name="Comparison">2</param>
                                                    <param id="1" name="X co-ordinate">LayoutWidth/2</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Set value" sid="295725801707502" type="Enemies">
                                                    <param id="0" name="Instance variable">Sector</param>
                                                    <param id="1" name="Value">0</param>
                                                </action>
                                                <action id="-10" name="Set value" sid="387733241724603" type="Enemies">
                                                    <param id="0" name="Instance variable">Target</param>
                                                    <param id="1" name="Value">UIDSector0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="564002929261811">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="990752846897229" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Set value" sid="464950507662127" type="Enemies">
                                                    <param id="0" name="Instance variable">Sector</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                                <action id="-10" name="Set value" sid="624867554105219" type="Enemies">
                                                    <param id="0" name="Instance variable">Target</param>
                                                    <param id="1" name="Value">UIDSector1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="356088155694971" title="Bird" />
                <event-group description="" sid="616459963968297" title="Calabaza" />
                <event-group description="" sid="490032821945475" title="Turret">
                    <sub-events>
                        <event-block sid="971379134246921">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="923963942967532" type="Players">
                                    <param id="0" name="Unique ID">Turret.Target</param>
                                </condition>
                                <condition id="-2" name="Compare Y" sid="651933548877576" type="Turret">
                                    <param id="0" name="Comparison">3</param>
                                    <param id="1" name="Y co-ordinate">Players.Y +SIZE*0.5</param>
                                </condition>
                                <condition id="-2" name="Compare Y" sid="787122256159518" type="Turret">
                                    <param id="0" name="Comparison">4</param>
                                    <param id="1" name="Y co-ordinate">Players.Y  - SIZE*0.5</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="451330003898375">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="143779252053221" type="System">
                                            <param id="0" name="First value">Turret.X - Players.X</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Second value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Spawn another object" sid="587384956055577" type="Turret">
                                            <param id="0" name="Object">TurretBullet</param>
                                            <param id="1" name="Layer">0</param>
                                            <param id="2" name="Image point">1</param>
                                        </action>
                                        <action id="-8" name="Set angle" sid="940025647715825" type="TurretBullet">
                                            <param id="0" name="Angle">180</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="619615976765436">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="212276355953731" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Spawn another object" sid="906272135431905" type="Turret">
                                            <param id="0" name="Object">TurretBullet</param>
                                            <param id="1" name="Layer">0</param>
                                            <param id="2" name="Image point">1</param>
                                        </action>
                                        <action id="-8" name="Set angle" sid="473859352625359" type="TurretBullet">
                                            <param id="0" name="Angle">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="181499352765368">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="791924355975287" type="Players">
                                    <param id="0" name="Unique ID">Turret.Target</param>
                                </condition>
                                <condition id="-1" name="Compare X" sid="999324075310922" type="Turret">
                                    <param id="0" name="Comparison">5</param>
                                    <param id="1" name="X co-ordinate">Players.X -SIZE*0.5</param>
                                </condition>
                                <condition id="-1" name="Compare X" sid="522717644475165" type="Turret">
                                    <param id="0" name="Comparison">2</param>
                                    <param id="1" name="X co-ordinate">Players.X + SIZE*0.5</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="187448833078724">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="856766177389909" type="System">
                                            <param id="0" name="First value">Turret.Y - Players.Y</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Second value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Spawn another object" sid="177260243618724" type="Turret">
                                            <param id="0" name="Object">TurretBullet</param>
                                            <param id="1" name="Layer">0</param>
                                            <param id="2" name="Image point">1</param>
                                        </action>
                                        <action id="-8" name="Set angle" sid="802613292792470" type="TurretBullet">
                                            <param id="0" name="Angle">270</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="687685411148120">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="691538243994418" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Spawn another object" sid="729372531426144" type="Turret">
                                            <param id="0" name="Object">TurretBullet</param>
                                            <param id="1" name="Layer">0</param>
                                            <param id="2" name="Image point">1</param>
                                        </action>
                                        <action id="-8" name="Set angle" sid="461308103123584" type="TurretBullet">
                                            <param id="0" name="Angle">90</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block any="1" sid="625652822316233">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="368276515763048" type="TurretBullet">
                                    <param id="0" name="Object">Solid</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="161957206980422" type="TurretBullet" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="416563651004172" title="DittoType">
                    <sub-events>
                        <event-block sid="898804793950001">
                            <conditions>
                                <condition behavior="Pathfinding" id="0" name="On path found" sid="687423646268254" type="DittoType" />
                            </conditions>
                            <actions>
                                <action behavior="Pathfinding" id="1" name="Move along path" sid="919509174876758" type="DittoType" />
                            </actions>
                        </event-block>
                        <event-block sid="265820768992029">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="463559992859689" type="DittoType">
                                    <param id="0" name="Instance variable">Estado</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="940035129420373">
                                    <conditions>
                                        <condition id="-4" name="Trigger once while true" sid="629736816743300" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-41" name="Wait for signal" sid="964859286387035" type="System">
                                            <param id="0" name="Tag">&quot;ActivarDittos&quot;</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="980113257286610" type="DittoType">
                                            <param id="0" name="Instance variable">Estado</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="473981923044742">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="452303191422219" type="DittoType">
                                    <param id="0" name="Instance variable">Estado</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="267209015721789">
                                    <conditions>
                                        <condition id="-6" name="Every X seconds" sid="878113059127989" type="System">
                                            <param id="0" name="Interval (seconds)">0.7</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Pathfinding" id="0" name="Find path" sid="439491414588980" type="DittoType">
                                            <param id="0" name="X">Player1.X</param>
                                            <param id="1" name="Y">Player1.Y</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="441206142882926">
                                    <conditions>
                                        <condition id="0" name="On collision with another object" sid="819177996689122" type="DittoType">
                                            <param id="0" name="Object">Player1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="382890682048130" type="DittoType">
                                            <param id="0" name="Instance variable">Estado</param>
                                            <param id="1" name="Value">2</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="714464134444826">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="355305015700595" type="DittoType">
                                    <param id="0" name="Instance variable">Estado</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">2</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Solid" id="0" name="Set enabled" sid="517349368019952" type="DittoType">
                                    <param id="0" name="State">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="489452607690338" title="Inicial">
                    <sub-events>
                        <event-block sid="232695190195406">
                            <conditions>
                                <condition behavior="Pathfinding" id="0" name="On path found" sid="146221658565528" type="Inicial" />
                            </conditions>
                            <actions>
                                <action behavior="Pathfinding" id="1" name="Move along path" sid="105919624779426" type="Inicial" />
                            </actions>
                        </event-block>
                        <comment>0: Busca al jugador</comment>
                        <event-block sid="293472916601572">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="779748544888919" type="Inicial">
                                    <param id="0" name="Instance variable">Estado</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="807350867421336">
                                    <conditions>
                                        <condition id="-4" name="Trigger once while true" sid="674548521422645" type="System" />
                                    </conditions>
                                    <actions>
                                        <action behavior="Timer" id="0" name="Start timer" sid="609721904087763" type="Inicial">
                                            <param id="0" name="Duration">Self.SearchTime</param>
                                            <param id="1" name="Type">0</param>
                                            <param id="2" name="Tag">&quot;Buscando&quot;</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="758328754568445">
                                    <conditions>
                                        <condition id="-6" name="Every X seconds" sid="673426086590548" type="System">
                                            <param id="0" name="Interval (seconds)">0.7</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Pathfinding" id="0" name="Find path" sid="210717040299938" type="Inicial">
                                            <param id="0" name="X">Player1.X</param>
                                            <param id="1" name="Y">Player1.Y</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="100519607208783">
                                    <conditions>
                                        <condition behavior="Timer" id="0" name="On timer" sid="310428418287608" type="Inicial">
                                            <param id="0" name="Tag">&quot;Buscando&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="754716001131277" type="Inicial">
                                            <param id="0" name="Instance variable">Estado</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment>1: Duerme y no hace ningun movimiento</comment>
                        <event-block sid="629897307698368">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="590302641291617" type="Inicial">
                                    <param id="0" name="Instance variable">Estado</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="892300382854919">
                                    <conditions>
                                        <condition id="-4" name="Trigger once while true" sid="812665163291066" type="System" />
                                    </conditions>
                                    <actions>
                                        <action behavior="Pathfinding" id="2" name="Stop" sid="995780597649239" type="Inicial" />
                                        <action behavior="Timer" id="0" name="Start timer" sid="159821818883257" type="Inicial">
                                            <param id="0" name="Duration">Self.SleepTime</param>
                                            <param id="1" name="Type">0</param>
                                            <param id="2" name="Tag">&quot;Durmiendo&quot;</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="400167834491292">
                                    <conditions>
                                        <condition behavior="Timer" id="0" name="On timer" sid="529006820566684" type="Inicial">
                                            <param id="0" name="Tag">&quot;Durmiendo&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="754604451870586" type="Inicial">
                                            <param id="0" name="Instance variable">Estado</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="276647914306872" title="Buscador">
                    <sub-events>
                        <event-block sid="573078419333006">
                            <conditions>
                                <condition id="-18" name="On created" sid="718718598408321" type="Buscador" />
                            </conditions>
                            <actions>
                                <action id="0" name="Spawn another object" sid="312785782724157" type="Buscador">
                                    <param id="0" name="Object">BuscadorVision</param>
                                    <param id="1" name="Layer">0</param>
                                    <param id="2" name="Image point">1</param>
                                </action>
                                <action behavior="Pin" id="0" name="Pin to object" sid="807213766620253" type="BuscadorVision">
                                    <param id="0" name="Pin to">Buscador</param>
                                    <param id="1" name="Mode">0</param>
                                </action>
                                <action id="-10" name="Set value" sid="454413975577884" type="Buscador">
                                    <param id="0" name="Instance variable">MaxCo</param>
                                    <param id="1" name="Value">int(tokenat(Self.Coordenadas,0,SEPARATOR))</param>
                                </action>
                                <action id="0" name="Call function" sid="529828181686242" type="Function">
                                    <param id="0" name="Name">&quot;BuscadorMain&quot;</param>
                                    <param id="1" name="Parameter {n}">Buscador.ActualCo</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="396283391249191">
                            <conditions>
                                <condition behavior="Pathfinding" id="0" name="On path found" sid="449006547307707" type="Buscador" />
                            </conditions>
                            <actions>
                                <action behavior="Pathfinding" id="1" name="Move along path" sid="971205874070602" type="Buscador" />
                            </actions>
                        </event-block>
                        <comment>Funcion para convertir el Self.Coordenadas</comment>
                        <event-block sid="393984969448552">
                            <conditions>
                                <condition id="0" name="On function" sid="370564459489168" type="Function">
                                    <param id="0" name="Name">&quot;BuscadorMain&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Pathfinding" id="0" name="Find path" sid="952284286431293" type="Buscador">
                                    <param id="0" name="X">int(tokenat(Self.Coordenadas,((int(Function.Param(0)))*2)-1,SEPARATOR))</param>
                                    <param id="1" name="Y">int(tokenat(Self.Coordenadas,(int(Function.Param(0)))*2,SEPARATOR))</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="651868180714628">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="317038626922709" type="Buscador">
                                            <param id="0" name="Instance variable">ActualCo</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">Self.MaxCo</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="767982629208401" type="Buscador">
                                            <param id="0" name="Instance variable">ActualCo</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="726107819195545">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="475789210752730" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-11" name="Add to" sid="880941635706216" type="Buscador">
                                            <param id="0" name="Instance variable">ActualCo</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment>0: Haciendo su recorrido normal</comment>
                        <event-block sid="929421005805057">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="948276536964628" type="Buscador">
                                    <param id="0" name="Instance variable">Estado</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="225891498480286">
                                    <conditions>
                                        <condition behavior="Pathfinding" id="5" name="On arrived" sid="234131102706563" type="Buscador" />
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="711285667103741" type="Function">
                                            <param id="0" name="Name">&quot;BuscadorMain&quot;</param>
                                            <param id="1" name="Parameter {n}">Buscador.ActualCo</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="511598473760652">
                                    <conditions>
                                        <condition id="0" name="On collision with another object" sid="222194323537136" type="BuscadorVision">
                                            <param id="0" name="Object">Player1</param>
                                        </condition>
                                        <condition id="1" name="Is overlapping another object" sid="333428932494533" type="BuscadorVision">
                                            <param id="0" name="Object">Buscador</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="791673885629595" type="Buscador">
                                            <param id="0" name="Instance variable">Estado</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                        <action behavior="Timer" id="0" name="Start timer" sid="824417029909181" type="Buscador">
                                            <param id="0" name="Duration">Self.TiempoFollow</param>
                                            <param id="1" name="Type">0</param>
                                            <param id="2" name="Tag">&quot;SeguirPlayer&quot;</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment>1: Buscando al jugador</comment>
                        <event-block sid="104414433313054">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="894338231143209" type="Buscador">
                                    <param id="0" name="Instance variable">Estado</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="501593735353328">
                                    <conditions>
                                        <condition id="-6" name="Every X seconds" sid="721341644582280" type="System">
                                            <param id="0" name="Interval (seconds)">0.7</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Pathfinding" id="0" name="Find path" sid="322826121177379" type="Buscador">
                                            <param id="0" name="X">Player1.X</param>
                                            <param id="1" name="Y">Player1.Y</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="630469146044730">
                                    <conditions>
                                        <condition behavior="Timer" id="0" name="On timer" sid="528555612218993" type="Buscador">
                                            <param id="0" name="Tag">&quot;SeguirPlayer&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="240803135015749" type="Buscador">
                                            <param id="0" name="Instance variable">Estado</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
        <event-group description="" sid="631876321000592" title="Objetos Interactuables">
            <sub-events>
                <event-block sid="585273818803465">
                    <conditions>
                        <condition id="-18" name="On created" sid="607560965434713" type="Box" />
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="145402805152084" type="Box">
                            <param id="0" name="Object">BoxUp</param>
                            <param id="1" name="Layer">0</param>
                            <param id="2" name="Image point">1</param>
                        </action>
                        <action behavior="Pin" id="0" name="Pin to object" sid="951736487665570" type="BoxUp">
                            <param id="0" name="Pin to">Box</param>
                            <param id="1" name="Mode">1</param>
                        </action>
                        <action id="0" name="Spawn another object" sid="753545512495174" type="Box">
                            <param id="0" name="Object">BoxRight</param>
                            <param id="1" name="Layer">0</param>
                            <param id="2" name="Image point">2</param>
                        </action>
                        <action behavior="Pin" id="0" name="Pin to object" sid="981068758403085" type="BoxRight">
                            <param id="0" name="Pin to">Box</param>
                            <param id="1" name="Mode">0</param>
                        </action>
                        <action id="0" name="Spawn another object" sid="762305260928600" type="Box">
                            <param id="0" name="Object">BoxLeft</param>
                            <param id="1" name="Layer">0</param>
                            <param id="2" name="Image point">3</param>
                        </action>
                        <action behavior="Pin" id="0" name="Pin to object" sid="487247161478501" type="BoxLeft">
                            <param id="0" name="Pin to">Box</param>
                            <param id="1" name="Mode">1</param>
                        </action>
                        <action id="0" name="Spawn another object" sid="484270807496647" type="Box">
                            <param id="0" name="Object">BoxDown</param>
                            <param id="1" name="Layer">0</param>
                            <param id="2" name="Image point">4</param>
                        </action>
                        <action behavior="Pin" id="0" name="Pin to object" sid="942010566107230" type="BoxDown">
                            <param id="0" name="Pin to">Box</param>
                            <param id="1" name="Mode">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="138565976638973" title="Miscelaneos">
            <sub-events>
                <event-block sid="214216016966240">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="418593128058701" type="Keyboard">
                            <param id="0" name="Key">90</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="353756504578117" type="Function">
                            <param id="0" name="Name">&quot;IntercambiarPlayers&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="257535633142703">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="931155521235934" type="System" />
                    </conditions>
                    <actions>
                        <action id="-7" name="Set size" sid="487918984122791" type="Sector1">
                            <param id="0" name="Width">LayoutHeight/2</param>
                            <param id="1" name="Height">LayoutHeight</param>
                        </action>
                        <action id="-7" name="Set size" sid="218316298826081" type="Sector2">
                            <param id="0" name="Width">LayoutHeight/2</param>
                            <param id="1" name="Height">LayoutHeight</param>
                        </action>
                        <action id="-3" name="Set position" sid="868981118382469" type="Sector1">
                            <param id="0" name="X">0</param>
                            <param id="1" name="Y">0</param>
                        </action>
                        <action id="-3" name="Set position" sid="936789445210176" type="Sector2">
                            <param id="0" name="X">LayoutWidth/2</param>
                            <param id="1" name="Y">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
